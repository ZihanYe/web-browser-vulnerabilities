# CVE-2018-12386

## Firefox RCE from Hack2Win

**Firefox version verified with:** 57.0

**Type:** Type confusion -> RCE

Steps to reproduce:

- run ```gdb --args ./js/src/build_DBG.OBJ/dist/bin/js --no-threads --fuzzing-safe ../CVE-2018-12386/crash.js```

It gives an assetion failure with debug build of js shell:

```
Assertion failure: *def->output() != alloc, at /home/clover/firefox-57.0/js/src/jit/RegisterAllocator.cpp:222

Thread 1 "js" received signal SIGSEGV, Segmentation fault.

```

Exploitation:

R/W primitive:

(with a debug build of js shell)

- run ```gdb --args ./js/src/build_OPT.OBJ/dist/bin/js --no-threads --fuzzing-safe ../CVE-2018-12386/pwn.js```


Reference

[1] https://bugzilla.mozilla.org/show_bug.cgi?id=1493900